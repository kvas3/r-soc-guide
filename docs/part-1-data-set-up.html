<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Part 1: Data Set-Up | R Guide for Sociological Analyses</title>
  <meta name="description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Part 1: Data Set-Up | R Guide for Sociological Analyses" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Part 1: Data Set-Up | R Guide for Sociological Analyses" />
  
  <meta name="twitter:description" content="<p>This is a minimal example of using the bookdown package to write a book.
set in the _output.yml file.
The HTML output format for this example is bookdown::gitbook,</p>" />
  

<meta name="author" content="Vasudha Kumar, Daniel Lavarte" />


<meta name="date" content="2023-08-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="part-2-basic-descriptive-statistics.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> url: your book url like https://bookdown.org/yihui/bookdown</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#notes"><i class="fa fa-check"></i><b>1.1</b> Notes</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="part-1-data-set-up.html"><a href="part-1-data-set-up.html"><i class="fa fa-check"></i><b>2</b> Part 1: Data Set-Up</a>
<ul>
<li class="chapter" data-level="2.1" data-path="part-1-data-set-up.html"><a href="part-1-data-set-up.html#package-installs"><i class="fa fa-check"></i><b>2.1</b> Package Installs</a></li>
<li class="chapter" data-level="2.2" data-path="part-1-data-set-up.html"><a href="part-1-data-set-up.html#working-directory"><i class="fa fa-check"></i><b>2.2</b> Working Directory</a></li>
<li class="chapter" data-level="2.3" data-path="part-1-data-set-up.html"><a href="part-1-data-set-up.html#backups"><i class="fa fa-check"></i><b>2.3</b> Backups</a></li>
<li class="chapter" data-level="2.4" data-path="part-1-data-set-up.html"><a href="part-1-data-set-up.html#data-import"><i class="fa fa-check"></i><b>2.4</b> Data Import</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html"><i class="fa fa-check"></i><b>3</b> Part 2: Basic Descriptive Statistics</a>
<ul>
<li class="chapter" data-level="3.1" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html#calculating-means"><i class="fa fa-check"></i><b>3.1</b> Calculating Means</a></li>
<li class="chapter" data-level="3.2" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html#adding-survey-weights"><i class="fa fa-check"></i><b>3.2</b> Adding Survey Weights</a></li>
<li class="chapter" data-level="3.3" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html#using-the-survey-package"><i class="fa fa-check"></i><b>3.3</b> Using the <code>Survey</code> Package</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html#weighted-means"><i class="fa fa-check"></i><b>3.3.1</b> Weighted Means</a></li>
<li class="chapter" data-level="3.3.2" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html#working-with-several-variables"><i class="fa fa-check"></i><b>3.3.2</b> Working with several variables</a></li>
<li class="chapter" data-level="3.3.3" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html#quantiles"><i class="fa fa-check"></i><b>3.3.3</b> Quantiles</a></li>
<li class="chapter" data-level="3.3.4" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html#variance"><i class="fa fa-check"></i><b>3.3.4</b> Variance</a></li>
<li class="chapter" data-level="3.3.5" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html#totals"><i class="fa fa-check"></i><b>3.3.5</b> Totals</a></li>
<li class="chapter" data-level="3.3.6" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html#statistics-for-subsets-of-data"><i class="fa fa-check"></i><b>3.3.6</b> Statistics for subsets of data</a></li>
<li class="chapter" data-level="3.3.7" data-path="part-2-basic-descriptive-statistics.html"><a href="part-2-basic-descriptive-statistics.html#saving-outputs"><i class="fa fa-check"></i><b>3.3.7</b> Saving outputs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="part-3-plotting.html"><a href="part-3-plotting.html"><i class="fa fa-check"></i><b>4</b> Part 3: Plotting</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="part-3-plotting.html"><a href="part-3-plotting.html#using-ggplot2"><i class="fa fa-check"></i><b>4.0.1</b> Using ggplot2</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>5</b> Conclusion</a></li>
<li class="chapter" data-level="6" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>6</b> Blocks</a>
<ul>
<li class="chapter" data-level="6.1" data-path="blocks.html"><a href="blocks.html#equations"><i class="fa fa-check"></i><b>6.1</b> Equations</a></li>
<li class="chapter" data-level="6.2" data-path="blocks.html"><a href="blocks.html#theorems-and-proofs"><i class="fa fa-check"></i><b>6.2</b> Theorems and proofs</a></li>
<li class="chapter" data-level="6.3" data-path="blocks.html"><a href="blocks.html#callout-blocks"><i class="fa fa-check"></i><b>6.3</b> Callout blocks</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="sharing-your-book.html"><a href="sharing-your-book.html"><i class="fa fa-check"></i><b>7</b> Sharing your book</a>
<ul>
<li class="chapter" data-level="7.1" data-path="sharing-your-book.html"><a href="sharing-your-book.html#publishing"><i class="fa fa-check"></i><b>7.1</b> Publishing</a></li>
<li class="chapter" data-level="7.2" data-path="sharing-your-book.html"><a href="sharing-your-book.html#pages"><i class="fa fa-check"></i><b>7.2</b> 404 pages</a></li>
<li class="chapter" data-level="7.3" data-path="sharing-your-book.html"><a href="sharing-your-book.html#metadata-for-sharing"><i class="fa fa-check"></i><b>7.3</b> Metadata for sharing</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Guide for Sociological Analyses</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="part-1-data-set-up" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Part 1: Data Set-Up<a href="part-1-data-set-up.html#part-1-data-set-up" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="package-installs" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Package Installs<a href="part-1-data-set-up.html#package-installs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If you find yourself on this page but have have yet to work through any of the resources on the previous page (good sign! you’re excited to learn!), try to <em>at least</em> work through this <a href="https://rstudio-education.github.io/hopr/basics.html">webpage</a> before following this guide. This guide won’t be able to teach you the fundamentals of R, and skipping the basics now may haunt you later!</p>
<p>Now that you have hopefully gone through at least one introductory resource, you are better prepared to use this guide! To get started, open RStudio and open a new R script. As a reminder, you can open a script by clicking <code>File</code> -&gt; <code>New File</code> -&gt; <code>R Script</code> once RStudio is open.</p>
<p>The first step for your research project will be to install and load the necessary packages. As you may have read <a href="https://rstudio-education.github.io/hopr/packages.html#packages-1">here</a>, a package is just a set of functions (or tools) to help you analyze data in R. You need to download each package just once, and you can do so from R’s command line (remember: it’s that bottom line in the <code>Console</code> panel where you can type code) directly. Once you download a package, you have to load it into your R session. This makes sure that the package is ready for your use, and you have to do this every time you start a new R session.</p>
<p>Here are some packages Vas and Daniel used in their research:</p>
<ul>
<li><p><code>tidyverse</code>: This is probably one of the most used packages in the R-verse. It’s actually a package of packages and will be necessary for data tidying, manipulation, and visualization.</p></li>
<li><p><code>survey</code>: This package is useful for analyzing large-scale survey data. We’ll use to add weights to our data and develop descriptive statistics including means, ratios, etc.</p></li>
<li><p><code>haven</code>: If the data set you are using is a .dta file (a commonly used format for Stata users), you’ll need this package to allow R to read this type of file format.</p></li>
</ul>
<p>To install these packages, simply run:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="part-1-data-set-up.html#cb1-1" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb1-2"><a href="part-1-data-set-up.html#cb1-2" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;survey&quot;</span>)</span>
<span id="cb1-3"><a href="part-1-data-set-up.html#cb1-3" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;haven&quot;</span>)</span>
<span id="cb1-4"><a href="part-1-data-set-up.html#cb1-4" tabindex="-1"></a><span class="co"># Remember, you need to do this just once on your computer. </span></span></code></pre></div>
<p>To load these packages into your R session, run:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="part-1-data-set-up.html#cb2-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;haven&quot;</span>)</span>
<span id="cb2-2"><a href="part-1-data-set-up.html#cb2-2" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;survey&quot;</span>)</span>
<span id="cb2-3"><a href="part-1-data-set-up.html#cb2-3" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;tidyverse&quot;</span>)</span>
<span id="cb2-4"><a href="part-1-data-set-up.html#cb2-4" tabindex="-1"></a><span class="co"># You&#39;ll need to run these lines of code every time you start a new R session. It&#39;s a good idea to paste them into your R script with all the other code you save for your use later. </span></span></code></pre></div>
</div>
<div id="working-directory" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Working Directory<a href="part-1-data-set-up.html#working-directory" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Refresher: a working directory is “the default location where R will look for files you want to load and where it will put any files you save” (<a href="https://intro2r.com/work-d.html">Douglas et al 2023</a>).</p>
<p>You need to set your working directory correctly in order to tell R the location of your survey data on your computer Refresher on how to set your working directory. Before setting your directory, we recommend that your datasets and all other files related to your research project are available in one dedicated folder on your computer. You can set your working directory by following the code template below:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="part-1-data-set-up.html#cb3-1" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">&quot;/Users/vkumar/Desktop/finlit_project&quot;</span>)</span></code></pre></div>
<ul>
<li><code>setwd</code> is the function used to set our directory.</li>
<li><code>"/Users/vkumar/Desktop/finlit_project"</code> is the path to the folder where Daniel stored all his project data. If using MacOS, you can find this filepath by right-clicking on your project folder, then holding down the <code>option</code> key on your keyboard, then clicking on “Copy [FOLDER] as Pathname.</li>
</ul>
</div>
<div id="backups" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Backups<a href="part-1-data-set-up.html#backups" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Research is hard work, and we know all too well the pain of losing hours of work to computer crashes and other nightmares. Before you make any more progress with your research project, make sure you have dedicated folder to store all your code and data. Then, set up an automatic backup system (since the code is the only part of the project you need to reproduce the analysis, the code is a very efficient way to back up your project!). <a href="https://www.google.com/intl/en_cy/drive/download/">Google Backup and Sync</a> is a good way to backup automatically to Google Drive. Set this up to automatically backup to a folder in your Google Drive RA folder shared with Dr. King. GitHub is another (probably better) option, but since it is has somewhat of a learning curve, we won’t cover it here. Here’s one <a href="https://ohi-science.org/data-science-training/github.html">resource</a> to help you get started.</p>
</div>
<div id="data-import" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Data Import<a href="part-1-data-set-up.html#data-import" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You’re so close! All that’s left for you to start conducting your amazing research is importing your data into R. If your data is in csv (spreadsheet) format, you can run something like this to import it into R:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="part-1-data-set-up.html#cb4-1" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;myfile.csv&quot;</span>)</span>
<span id="cb4-2"><a href="part-1-data-set-up.html#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="part-1-data-set-up.html#cb4-3" tabindex="-1"></a><span class="co"># Here, &quot;mydata&quot; is what we named our dataset in the R workspace. Now, whenever we want to work with our data, we just need to call it by its name, &quot;mydata&quot;. You can name your data whatever you&#39;d like. </span></span>
<span id="cb4-4"><a href="part-1-data-set-up.html#cb4-4" tabindex="-1"></a><span class="co"># &quot;myfile.csv&quot; is the name of our dataset in our working directory </span></span>
<span id="cb4-5"><a href="part-1-data-set-up.html#cb4-5" tabindex="-1"></a><span class="co"># note that you need to load the tidyverse package to successfully run this code. </span></span></code></pre></div>
<p>Prof. King uses the Stata software to conduct her research, so it’s likely that you’ll be working with files in the <code>dta</code> format. Luckily, there’s a package that lets us import Stata files into R. The code template is very similar to the one above, except the function below relies on the haven package that we installed earlier.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="part-1-data-set-up.html#cb5-1" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read_dta</span>(<span class="st">&quot;myfile.dta&quot;</span>)</span></code></pre></div>
<p>Excellent! We’re ready for some analysis!</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="part-2-basic-descriptive-statistics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
